import{j as e}from"./ui-BbEAuUw2.js";import{r as c}from"./vendor-CrRmGii_.js";import{G as d}from"./glass-card--uVbgGjx.js";import{c as l,a as x,b as h,C as g,d as u,B as m,e as p,f as v}from"./index-xE7Owi70.js";import{f}from"./utils-DzfkJJIA.js";import"./zustand-D4WnGny0.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=l("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),j=x("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n({className:r,variant:s,...t}){return e.jsx("div",{className:h(j({variant:s}),r),...t})}const y=r=>{switch(r){case"Extreme":return"bg-red-600 text-white hover:bg-red-700";case"Severe":return"bg-orange-600 text-white hover:bg-orange-700";case"Moderate":return"bg-yellow-600 text-white hover:bg-yellow-700";case"Minor":return"bg-blue-600 text-white hover:bg-blue-700";default:return"bg-gray-600 text-white hover:bg-gray-700"}},w=r=>{switch(r){case"Immediate":return"bg-red-500 text-white hover:bg-red-600";case"Expected":return"bg-orange-500 text-white hover:bg-orange-600";case"Future":return"bg-blue-500 text-white hover:bg-blue-600";case"Past":return"bg-gray-500 text-white hover:bg-gray-600";default:return"bg-gray-400 text-white hover:bg-gray-500"}},a=r=>{try{return f(new Date(r),"MMM d, h:mm a")}catch{return r}},N=r=>r==="Extreme"||r==="Severe"?"assertive":"polite",E=r=>{switch(r){case"Extreme":return"extreme";case"Severe":return"severe";case"Moderate":return"moderate";case"Minor":return"minor";default:return"minor"}};function C({alert:r,index:s}){const[t,i]=c.useState(!1),o=()=>{i(!t)};return e.jsxs(d,{severity:E(r.severity),blur:"xl",interactive:!0,className:"border-l-4 border-l-red-600 dark:border-l-red-400",role:"alert","aria-live":N(r.severity),"aria-label":`${r.severity} severity weather alert: ${r.event}`,children:[e.jsx(g,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:"mt-1 h-6 w-6 flex-shrink-0 text-red-600 dark:text-red-400","aria-hidden":"true"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("h3",{className:"text-xl font-semibold leading-none tracking-tight",children:r.headline}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(n,{className:y(r.severity),children:r.severity}),e.jsx(n,{className:w(r.urgency),children:r.urgency}),e.jsx(n,{variant:"outline",children:r.event})]}),!t&&e.jsx("div",{className:"text-sm text-muted-foreground pt-1",children:e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Effective:"})," ",a(r.onset)]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Expires:"})," ",a(r.expires)]})]})})]})]})}),t&&e.jsxs(u,{className:"space-y-3 pt-0",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[e.jsxs("span",{children:[e.jsx("strong",{children:"Effective:"})," ",a(r.onset)]}),e.jsxs("span",{children:[e.jsx("strong",{children:"Expires:"})," ",a(r.expires)]})]})}),e.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-line",children:r.description}),r.areaDesc&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("strong",{children:"Areas:"})," ",r.areaDesc]})]}),e.jsx("div",{className:"px-6 pb-4",children:e.jsx(m,{variant:"ghost",size:"sm",onClick:o,className:"w-full justify-center gap-2","aria-expanded":t,"aria-controls":`alert-content-${s}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx(p,{className:"h-4 w-4","aria-hidden":"true"}),"Show Less"]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"h-4 w-4","aria-hidden":"true"}),"Show Details"]})})})]})}function F({alerts:r}){return!r||r.length===0?null:e.jsx("div",{className:"space-y-4",children:r.map((s,t)=>e.jsx(C,{alert:s,index:t},s.id))})}export{F as AlertCard};
