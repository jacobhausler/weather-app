const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AlertCard-IpVyk5ZR.js","assets/ui-BbEAuUw2.js","assets/vendor-CrRmGii_.js","assets/glass-card-w_TbMZCU.js","assets/utils-DzfkJJIA.js","assets/zustand-D4WnGny0.js","assets/SevenDayForecast-BXx5dk64.js","assets/useUnitConversion-DpxUpf6s.js","assets/wind-CdDonkrz.js","assets/CurrentConditions-iESbD9Fk.js","assets/HourlyForecast-Cdd-D3tV.js","assets/charts-8ILbS6lk.js"])))=>i.map(i=>d[i]);
import{j as t,S as be,a as J,b as X,P as we,C as Y,I as Q,c as G,d as ee,R as te,L as re,e as se,f as je,T as Ne,g as ke,h as ae,i as Ce}from"./ui-BbEAuUw2.js";import{b as Se,r as l,R as Re}from"./vendor-CrRmGii_.js";import{t as Ee,c as ne}from"./utils-DzfkJJIA.js";import{c as Z}from"./zustand-D4WnGny0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();var P={},z=Se;P.createRoot=z.createRoot,P.hydrateRoot=z.hydrateRoot;const Ie="modulepreload",_e=function(e){return"/"+e},H={},A=function(r,s,n){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");o=Promise.allSettled(s.map(p=>{if(p=_e(p),p in H)return;H[p]=!0;const i=p.endsWith(".css"),x=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const g=document.createElement("link");if(g.rel=i?"stylesheet":Ie,i||(g.as="script"),g.crossOrigin="",g.href=p,u&&g.setAttribute("nonce",u),document.head.appendChild(g),i)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(d){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d}return o.then(d=>{for(const u of d||[])u.status==="rejected"&&a(u.reason);return r().catch(a)})};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oe=(...e)=>e.filter((r,s,n)=>!!r&&n.indexOf(r)===s).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Le={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=l.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:d,...u},p)=>l.createElement("svg",{ref:p,...Le,width:r,height:r,stroke:e,strokeWidth:n?Number(s)*24/Number(r):s,className:oe("lucide",o),...u},[...d.map(([i,x])=>l.createElement(i,x)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=(e,r)=>{const s=l.forwardRef(({className:n,...o},a)=>l.createElement(Ae,{ref:a,iconNode:r,className:oe(`lucide-${De(e)}`,n),...o}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=C("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=C("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=C("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=C("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=C("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=C("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=C("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=C("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=C("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=C("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=C("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function b(...e){return Ee(ne(e))}const O=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,B=ne,U=(e,r)=>s=>{var n;if(r?.variants==null)return B(e,s?.class,s?.className);const{variants:o,defaultVariants:a}=r,d=Object.keys(o).map(i=>{const x=s?.[i],g=a?.[i];if(x===null)return null;const v=O(x)||O(g);return o[i][v]}),u=s&&Object.entries(s).reduce((i,x)=>{let[g,v]=x;return v===void 0||(i[g]=v),i},{}),p=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((i,x)=>{let{class:g,className:v,...y}=x;return Object.entries(y).every(N=>{let[h,f]=N;return Array.isArray(f)?f.includes({...a,...u}[h]):{...a,...u}[h]===f})?[...i,g,v]:i},[]);return B(e,d,p,s?.class,s?.className)},He=U("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),R=l.forwardRef(({className:e,variant:r,size:s,asChild:n=!1,...o},a)=>{const d=n?be:"button";return t.jsx(d,{className:b(He({variant:r,size:s,className:e})),ref:a,...o})});R.displayName="Button";const Oe={};function Be(e,r){let s;try{s=e()}catch{return}return{getItem:o=>{var a;const d=p=>p===null?null:JSON.parse(p,void 0),u=(a=s.getItem(o))!=null?a:null;return u instanceof Promise?u.then(d):d(u)},setItem:(o,a)=>s.setItem(o,JSON.stringify(a,void 0)),removeItem:o=>s.removeItem(o)}}const E=e=>r=>{try{const s=e(r);return s instanceof Promise?s:{then(n){return E(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return E(n)(s)}}}},Ve=(e,r)=>(s,n,o)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:f=>f,version:0,merge:(f,c)=>({...c,...f}),...r},d=!1;const u=new Set,p=new Set;let i;try{i=a.getStorage()}catch{}if(!i)return e((...f)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...f)},n,o);const x=E(a.serialize),g=()=>{const f=a.partialize({...n()});let c;const m=x({state:f,version:a.version}).then(w=>i.setItem(a.name,w)).catch(w=>{c=w});if(c)throw c;return m},v=o.setState;o.setState=(f,c)=>{v(f,c),g()};const y=e((...f)=>{s(...f),g()},n,o);let N;const h=()=>{var f;if(!i)return;d=!1,u.forEach(m=>m(n()));const c=((f=a.onRehydrateStorage)==null?void 0:f.call(a,n()))||void 0;return E(i.getItem.bind(i))(a.name).then(m=>{if(m)return a.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return a.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var w;return N=a.merge(m,(w=n())!=null?w:y),s(N,!0),g()}).then(()=>{c?.(N,void 0),d=!0,p.forEach(m=>m(N))}).catch(m=>{c?.(void 0,m)})};return o.persist={setOptions:f=>{a={...a,...f},f.getStorage&&(i=f.getStorage())},clearStorage:()=>{i?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>d,onHydrate:f=>(u.add(f),()=>{u.delete(f)}),onFinishHydration:f=>(p.add(f),()=>{p.delete(f)})},h(),N||y},qe=(e,r)=>(s,n,o)=>{let a={storage:Be(()=>localStorage),partialize:h=>h,version:0,merge:(h,f)=>({...f,...h}),...r},d=!1;const u=new Set,p=new Set;let i=a.storage;if(!i)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...h)},n,o);const x=()=>{const h=a.partialize({...n()});return i.setItem(a.name,{state:h,version:a.version})},g=o.setState;o.setState=(h,f)=>{g(h,f),x()};const v=e((...h)=>{s(...h),x()},n,o);o.getInitialState=()=>v;let y;const N=()=>{var h,f;if(!i)return;d=!1,u.forEach(m=>{var w;return m((w=n())!=null?w:v)});const c=((f=a.onRehydrateStorage)==null?void 0:f.call(a,(h=n())!=null?h:v))||void 0;return E(i.getItem.bind(i))(a.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==a.version){if(a.migrate)return[!0,a.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var w;const[T,j]=m;if(y=a.merge(j,(w=n())!=null?w:v),s(y,!0),T)return x()}).then(()=>{c?.(y,void 0),y=n(),d=!0,p.forEach(m=>m(y))}).catch(m=>{c?.(void 0,m)})};return o.persist={setOptions:h=>{a={...a,...h},h.storage&&(i=h.storage)},clearStorage:()=>{i?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>N(),hasHydrated:()=>d,onHydrate:h=>(u.add(h),()=>{u.delete(h)}),onFinishHydration:h=>(p.add(h),()=>{p.delete(h)})},a.skipHydration||N(),y||v},Ke=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Oe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ve(e,r)):qe(e,r),W=Ke,$=Z()(W(e=>({currentZipCode:null,weatherData:null,isLoading:!1,error:null,recentZipCodes:[],setZipCode:r=>e({currentZipCode:r}),setWeatherData:r=>e({weatherData:r,error:null}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),clearError:()=>e({error:null}),addRecentZipCode:r=>e(s=>{const n=s.recentZipCodes.filter(o=>o!==r);return{recentZipCodes:[r,...n].slice(0,5)}})}),{name:"weather-storage",partialize:e=>({recentZipCodes:e.recentZipCodes,currentZipCode:e.currentZipCode})})),Je="";class Xe{baseUrl;constructor(r){this.baseUrl=r}async fetchWithError(r,s){try{const n=await fetch(r,s);if(!n.ok){const o=await n.json().catch(()=>({}));throw{message:o.message||`HTTP ${n.status}: ${n.statusText}`,status:n.status,details:o}}return await n.json()}catch(n){throw n.status?n:{message:"Network error: Unable to connect to server",details:n}}}async getWeatherByZip(r){return this.fetchWithError(`${this.baseUrl}/api/weather/${r}`)}async refreshWeather(r){return this.fetchWithError(`${this.baseUrl}/api/weather/${r}/refresh`,{method:"POST"})}async healthCheck(){return this.fetchWithError(`${this.baseUrl}/api/health`)}}const I=new Xe(Je),Ye=6e4,M=3,V=2e3,Qe=32e3;function ce(){const{currentZipCode:e,weatherData:r,isLoading:s,error:n,setZipCode:o,setWeatherData:a,setLoading:d,setError:u,addRecentZipCode:p}=$(),i=l.useRef(null),x=l.useRef(!1),g=l.useRef(0),v=l.useRef(V),[y,N]=l.useState(!1),h=l.useRef(!1),f=l.useCallback(async j=>{if(!j||j.length!==5||!/^\d{5}$/.test(j)){u("Invalid ZIP code. Please enter a 5-digit ZIP code.");return}d(!0),u(null);try{const S=await I.getWeatherByZip(j);a(S),o(j),p(j)}catch(S){const ye=S instanceof Error?S.message:"Failed to fetch weather data";u(ye)}finally{d(!1)}},[d,u,a,o,p]),c=l.useCallback(()=>{g.current=0,v.current=V,y&&N(!1)},[y]),m=l.useCallback(()=>{g.current+=1,g.current>=M?(N(!0),console.warn(`Background refresh paused after ${M} consecutive failures. Use manual refresh to retry.`)):(v.current=Math.min(v.current*2,Qe),console.warn(`Background refresh failed (${g.current}/${M}). Next retry in ${v.current/1e3}s`))},[]),w=l.useCallback(async()=>{if(!(!e||x.current||y)){x.current=!0;try{const j=await I.getWeatherByZip(e);a(j),c()}catch{m()}finally{x.current=!1}}},[e,a,y,c,m]),T=l.useCallback(async()=>{if(e){d(!0),u(null);try{const j=await I.refreshWeather(e);a(j),c()}catch(j){const S=j instanceof Error?j.message:"Failed to refresh weather data";u(S)}finally{d(!1)}}},[e,d,u,a,c]);return l.useEffect(()=>{e&&!r&&!s&&!h.current&&(h.current=!0,f(e))},[]),l.useEffect(()=>{if(!e||y){i.current&&(clearInterval(i.current),i.current=null);return}const j=g.current>0?v.current:Ye;i.current=setInterval(()=>{!document.hidden&&!y&&w()},j);const S=()=>{!document.hidden&&e&&!y&&w()};return document.addEventListener("visibilitychange",S),()=>{i.current&&(clearInterval(i.current),i.current=null),document.removeEventListener("visibilitychange",S)}},[e,w,y]),{weatherData:r,isLoading:s,error:n,currentZipCode:e,fetchWeather:f,refreshWeather:T,isAutoRefreshPaused:y}}function q(){const{currentZipCode:e,isLoading:r,refreshWeather:s,isAutoRefreshPaused:n}=ce(),o=async()=>{!e||r||await s()},a=!e||r;return t.jsx(R,{variant:"ghost",size:"icon",onClick:o,disabled:a,className:b("relative",n&&!a&&"text-yellow-600 dark:text-yellow-400"),title:n?"Auto-refresh paused due to errors. Click to retry.":"Refresh weather data","aria-label":n?"Auto-refresh paused - Click to retry":"Refresh weather data",children:n&&!a?t.jsx(le,{className:"h-5 w-5"}):t.jsx(We,{className:b("h-5 w-5",r&&"animate-spin",a&&"opacity-50")})})}const de=l.forwardRef(({className:e,type:r,...s},n)=>t.jsx("input",{type:r,className:b("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));de.displayName="Input";const Ge=je,et=Ne,tt=l.forwardRef(({className:e,inset:r,children:s,...n},o)=>t.jsxs(J,{ref:o,className:b("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...n,children:[s,t.jsx(Me,{className:"ml-auto"})]}));tt.displayName=J.displayName;const rt=l.forwardRef(({className:e,...r},s)=>t.jsx(X,{ref:s,className:b("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r}));rt.displayName=X.displayName;const ue=l.forwardRef(({className:e,sideOffset:r=4,...s},n)=>t.jsx(we,{children:t.jsx(Y,{ref:n,sideOffset:r,className:b("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...s})}));ue.displayName=Y.displayName;const me=l.forwardRef(({className:e,inset:r,...s},n)=>t.jsx(Q,{ref:n,className:b("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",e),...s}));me.displayName=Q.displayName;const st=l.forwardRef(({className:e,children:r,checked:s,...n},o)=>t.jsxs(G,{ref:o,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ee,{children:t.jsx(Te,{className:"h-4 w-4"})})}),r]}));st.displayName=G.displayName;const at=l.forwardRef(({className:e,children:r,...s},n)=>t.jsxs(te,{ref:n,className:b("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(ee,{children:t.jsx(Fe,{className:"h-2 w-2 fill-current"})})}),r]}));at.displayName=te.displayName;const nt=l.forwardRef(({className:e,inset:r,...s},n)=>t.jsx(re,{ref:n,className:b("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...s}));nt.displayName=re.displayName;const ot=l.forwardRef(({className:e,...r},s)=>t.jsx(se,{ref:s,className:b("-mx-1 my-1 h-px bg-muted",e),...r}));ot.displayName=se.displayName;function K(){const[e,r]=l.useState(""),[s,n]=l.useState(null),{setZipCode:o,setWeatherData:a,setLoading:d,setError:u,addRecentZipCode:p,recentZipCodes:i,isLoading:x}=$(),g=c=>/^\d{5}$/.test(c),v=async c=>{if(!g(c)){n("Please enter a valid 5-digit ZIP code");return}n(null),d(!0),o(c);try{const m=await I.getWeatherByZip(c);a(m),p(c),r("")}catch(m){const w=m instanceof Error?m.message:"Failed to fetch weather data";u(w)}finally{d(!1)}},y=c=>{c.preventDefault(),e.trim()&&v(e.trim())},N=c=>{v(c)},h=c=>{c.key.length===1&&!/\d/.test(c.key)&&!["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(c.key)&&c.preventDefault()},f=c=>{c.length<=5&&(r(c),s&&(c.length===0||g(c))&&n(null))};return t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsxs("form",{onSubmit:y,className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(de,{type:"text",inputMode:"numeric",pattern:"\\d{5}",placeholder:"Enter ZIP code",value:e,onChange:c=>f(c.target.value),onKeyDown:h,disabled:x,className:"pr-10","aria-label":"ZIP code input","aria-invalid":!!s,"aria-describedby":s?"zip-error":void 0}),t.jsx(Ze,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"})]}),t.jsx(R,{type:"submit",disabled:x||!e.trim(),children:"Submit"}),i.length>0&&t.jsxs(Ge,{children:[t.jsx(et,{asChild:!0,children:t.jsx(R,{variant:"outline",size:"icon",disabled:x,"aria-label":"Recent ZIP codes",children:t.jsx(ie,{className:"h-4 w-4"})})}),t.jsx(ue,{align:"end",children:i.map(c=>t.jsx(me,{onClick:()=>N(c),children:c},c))})]})]}),s&&t.jsx("p",{id:"zip-error",className:"text-sm text-destructive",role:"alert","aria-live":"polite",children:s})]})}function it(){return t.jsx("header",{className:"sticky top-0 z-40 w-full border-b border-white/20 dark:border-white/10 bg-white/10 dark:bg-black/20 backdrop-blur-md shadow-glass",children:t.jsxs("div",{className:"container mx-auto px-4 py-4",children:[t.jsx("div",{className:"md:hidden",children:t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(q,{}),t.jsx("h1",{className:"flex-1 text-center text-2xl font-bold",children:"HAUS Weather Station"})]}),t.jsx(K,{})]})}),t.jsx("div",{className:"hidden md:block",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("div",{className:"flex items-center",children:t.jsx(q,{})}),t.jsx("h1",{className:"text-3xl font-bold",children:"HAUS Weather Station"}),t.jsx("div",{className:"min-w-[280px]",children:t.jsx(K,{})})]})})]})})}const lt=U("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fe=l.forwardRef(({className:e,variant:r,...s},n)=>t.jsx("div",{ref:n,role:"alert",className:b(lt({variant:r}),e),...s}));fe.displayName="Alert";const he=l.forwardRef(({className:e,...r},s)=>t.jsx("h5",{ref:s,className:b("mb-1 font-medium leading-none tracking-tight",e),...r}));he.displayName="AlertTitle";const pe=l.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:b("text-sm [&_p]:leading-relaxed",e),...r}));pe.displayName="AlertDescription";function ct(){const{error:e,clearError:r}=$(),[s,n]=l.useState(!1),[o,a]=l.useState(null);if(l.useEffect(()=>{if(n(!1),e){try{a(typeof e=="string"?{message:e}:e)}catch{a({message:String(e)})}const i=setTimeout(()=>{r()},1e4);return()=>clearTimeout(i)}a(null)},[e,r]),!o)return null;const d=o.details!==void 0&&o.details!==null,u=i=>i.includes("Network error")?"Unable to connect to the weather service. Please check your internet connection.":i.includes("404")?"Weather data not found for this location. Please verify the ZIP code.":i.includes("429")?"Too many requests. Please wait a moment and try again.":i.includes("500")||i.includes("502")||i.includes("503")?"Weather service is temporarily unavailable. Please try again later.":i,p=o.message.includes("429")?"warning":"error";return t.jsx("div",{className:"fixed left-0 right-0 top-16 z-50 px-4 pt-4",children:t.jsxs(fe,{variant:"destructive",className:`relative shadow-lg ${p==="warning"?"border-yellow-500 bg-yellow-50 text-yellow-900 dark:border-yellow-700 dark:bg-yellow-950 dark:text-yellow-200":""}`,children:[t.jsx(le,{className:"h-4 w-4"}),t.jsxs(he,{className:"flex items-center justify-between pr-8",children:[t.jsx("span",{children:"Weather Service Error"}),t.jsx(R,{variant:"ghost",size:"icon",className:"absolute right-2 top-2 h-6 w-6",onClick:r,"aria-label":"Dismiss error",children:t.jsx(ze,{className:"h-4 w-4"})})]}),t.jsx(pe,{className:"mt-2",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{children:u(o.message)}),d&&t.jsx(R,{variant:"ghost",size:"sm",onClick:()=>n(!s),className:"flex items-center gap-1 p-0 h-auto text-xs",children:s?t.jsxs(t.Fragment,{children:[t.jsx(Pe,{className:"h-3 w-3"}),"Hide details"]}):t.jsxs(t.Fragment,{children:[t.jsx(ie,{className:"h-3 w-3"}),"Show details"]})}),s&&d&&t.jsx("pre",{className:"mt-2 overflow-auto rounded bg-black/10 p-2 text-xs dark:bg-white/10",children:JSON.stringify(o.details,null,2)})]})})]})})}const dt=Z()(W(e=>({theme:"system",setTheme:r=>e({theme:r})}),{name:"theme-storage"}));function ut(){const{theme:e,setTheme:r}=dt();l.useEffect(()=>{const a=document.documentElement;a.classList.remove("light","dark");let d=e;e==="system"&&(d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),a.classList.add(d)},[e]),l.useEffect(()=>{if(e==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)"),d=u=>{const p=document.documentElement;p.classList.remove("light","dark"),p.classList.add(u.matches?"dark":"light")};return a.addEventListener("change",d),()=>a.removeEventListener("change",d)}},[e]);const s=()=>{const u=(document.documentElement.classList.contains("dark")?"dark":"light")==="dark"?"light":"dark";r(u)},o=(e==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e)==="dark";return t.jsx(R,{variant:"ghost",size:"icon",onClick:s,"aria-label":`Switch to ${o?"light":"dark"} mode`,className:"rounded-full",children:o?t.jsx($e,{className:"h-5 w-5"}):t.jsx(Ue,{className:"h-5 w-5"})})}var mt="Label",ge=l.forwardRef((e,r)=>t.jsx(ke.label,{...e,ref:r,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));ge.displayName=mt;var xe=ge;const ft=U("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=l.forwardRef(({className:e,...r},s)=>t.jsx(xe,{ref:s,className:b(ft(),e),...r}));F.displayName=xe.displayName;const ve=l.forwardRef(({className:e,...r},s)=>t.jsx(ae,{className:b("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...r,ref:s,children:t.jsx(Ce,{className:b("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ve.displayName=ae.displayName;const ht=Z()(W(e=>({unitSystem:"imperial",setUnitSystem:r=>e({unitSystem:r})}),{name:"unit-storage"})),Et=(e,r)=>r==="imperial"?e*9/5+32:e,It=(e,r)=>r==="imperial"?e*2.237:e*3.6,_t=(e,r)=>r==="imperial"?e*621371e-9:e/1e3,Dt=e=>e==="imperial"?"°F":"°C",Lt=e=>e==="imperial"?"mph":"km/h",At=e=>e==="imperial"?"mi":"km";function pt(){const{unitSystem:e,setUnitSystem:r}=ht(),s=e==="metric",n=o=>{r(o?"metric":"imperial")};return t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(F,{htmlFor:"unit-toggle",className:`text-sm font-medium ${s?"text-muted-foreground":"text-foreground"}`,children:"Imperial"}),t.jsx(ve,{id:"unit-toggle",checked:s,onCheckedChange:n,"aria-label":"Toggle between Imperial and Metric units"}),t.jsx(F,{htmlFor:"unit-toggle",className:`text-sm font-medium ${s?"text-foreground":"text-muted-foreground"}`,children:"Metric"})]})}function k({className:e,...r}){return t.jsx("div",{className:b("animate-pulse rounded-md bg-muted",e),...r})}const _=l.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:b("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));_.displayName="Card";const D=l.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:b("flex flex-col space-y-1.5 p-6",e),...r}));D.displayName="CardHeader";const gt=l.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:b("text-2xl font-semibold leading-none tracking-tight",e),...r}));gt.displayName="CardTitle";const xt=l.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:b("text-sm text-muted-foreground",e),...r}));xt.displayName="CardDescription";const L=l.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:b("p-6 pt-0",e),...r}));L.displayName="CardContent";const vt=l.forwardRef(({className:e,...r},s)=>t.jsx("div",{ref:s,className:b("flex items-center p-6 pt-0",e),...r}));vt.displayName="CardFooter";const yt=l.lazy(()=>A(()=>import("./AlertCard-IpVyk5ZR.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.AlertCard}))),bt=l.lazy(()=>A(()=>import("./SevenDayForecast-BXx5dk64.js"),__vite__mapDeps([6,1,2,3,7,8,4,5])).then(e=>({default:e.SevenDayForecast}))),wt=l.lazy(()=>A(()=>import("./CurrentConditions-iESbD9Fk.js"),__vite__mapDeps([9,1,2,3,8,4,5])).then(e=>({default:e.CurrentConditions}))),jt=l.lazy(()=>A(()=>import("./HourlyForecast-Cdd-D3tV.js"),__vite__mapDeps([10,1,2,3,7,11,4,5])).then(e=>({default:e.HourlyForecast})));function Nt(){const{weatherData:e,isLoading:r}=ce(),s=e?.forecast.find(o=>o.isDaytime&&o.number===1),n=e?.forecast.find(o=>!o.isDaytime&&o.number===2);return t.jsxs("div",{className:"min-h-screen bg-gradient-sky dark:bg-gradient-midnight text-foreground",style:{paddingBottom:"var(--footer-height)"},children:[t.jsx(ct,{}),t.jsx(it,{}),t.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-7xl",children:[r&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs(_,{children:[t.jsx(D,{children:t.jsx(k,{className:"h-6 w-48"})}),t.jsxs(L,{className:"space-y-4",children:[t.jsx(k,{className:"h-24 w-full"}),t.jsx(k,{className:"h-24 w-full"})]})]}),t.jsxs(_,{children:[t.jsx(D,{children:t.jsx(k,{className:"h-6 w-32"})}),t.jsx(L,{children:t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(7)].map((o,a)=>t.jsx(k,{className:"min-w-[140px] h-48"},a))})})]}),t.jsx(k,{className:"h-64 w-full"}),t.jsx(k,{className:"h-96 w-full"})]}),!r&&!e&&t.jsx("div",{className:"flex flex-col items-center justify-center py-20",children:t.jsxs("div",{className:"text-center space-y-3",children:[t.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Welcome to HAUS Weather Station"}),t.jsx("p",{className:"text-lg text-muted-foreground max-w-md",children:"Enter a ZIP code above to view detailed weather information"})]})}),!r&&e&&t.jsxs("div",{className:"space-y-6",children:[e.alerts&&e.alerts.length>0&&t.jsx(l.Suspense,{fallback:t.jsx(k,{className:"h-32 w-full"}),children:t.jsx(yt,{alerts:e.alerts})}),e.forecast&&e.forecast.length>0&&t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"w-full max-w-4xl",children:t.jsx(l.Suspense,{fallback:t.jsxs(_,{children:[t.jsx(D,{children:t.jsx(k,{className:"h-6 w-32"})}),t.jsx(L,{children:t.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[...Array(7)].map((o,a)=>t.jsx(k,{className:"min-w-[140px] h-48"},a))})})]}),children:t.jsx(bt,{forecast:e.forecast})})})}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsx(l.Suspense,{fallback:t.jsx(k,{className:"h-64 w-full"}),children:t.jsx(wt,{observation:e.currentObservation,todayForecast:s,tonightForecast:n,sunTimes:e.sunTimes})}),e.hourlyForecast&&e.hourlyForecast.length>0&&t.jsx(l.Suspense,{fallback:t.jsx(k,{className:"h-96 w-full"}),children:t.jsx(jt,{hourlyForecast:e.hourlyForecast})})]})]})]}),t.jsx("footer",{className:"fixed bottom-0 left-0 right-0 border-t border-white/15 bg-white/5 dark:bg-black/15 backdrop-blur-sm",style:{height:"var(--footer-height)"},children:t.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 h-full",children:[t.jsx(pt,{}),t.jsx(ut,{})]})})]})}P.createRoot(document.getElementById("root")).render(t.jsx(Re.StrictMode,{children:t.jsx(Nt,{})}));export{R as B,D as C,ze as X,U as a,b,C as c,L as d,Pe as e,ie as f,gt as g,Et as h,It as i,_t as j,Dt as k,Lt as l,At as m,Te as n,ht as u};
