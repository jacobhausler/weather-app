import{p as P,V as F,j as e,q as j,r as M,s as V,t as y,u as W,v as g,w as A,x as U,y as N,z as b,A as w,B as S}from"./ui-BbEAuUw2.js";import{b as n,m as C,n as E,o as K,C as X,d as Y,f as $,B as p,e as q}from"./index-CSWJw8QM.js";import{r as d}from"./vendor-CrRmGii_.js";import{u as G,a as v}from"./useUnitConversion-DpxUpf6s.js";import{R as O,B as J,C as Q,X as Z,Y as _,T as ee,L as te,a as ae}from"./charts-8ILbS6lk.js";import{f as se}from"./utils-DzfkJJIA.js";import"./zustand-D4WnGny0.js";const re=P,ie=F,T=d.forwardRef(({className:r,children:s,...a},i)=>e.jsxs(j,{ref:i,className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...a,children:[s,e.jsx(M,{asChild:!0,children:e.jsx(C,{className:"h-4 w-4 opacity-50"})})]}));T.displayName=j.displayName;const k=d.forwardRef(({className:r,...s},a)=>e.jsx(N,{ref:a,className:n("flex cursor-default items-center justify-center py-1",r),...s,children:e.jsx(K,{className:"h-4 w-4"})}));k.displayName=N.displayName;const z=d.forwardRef(({className:r,...s},a)=>e.jsx(b,{ref:a,className:n("flex cursor-default items-center justify-center py-1",r),...s,children:e.jsx(C,{className:"h-4 w-4"})}));z.displayName=b.displayName;const D=d.forwardRef(({className:r,children:s,position:a="popper",...i},c)=>e.jsx(V,{children:e.jsxs(y,{ref:c,className:n("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:a,...i,children:[e.jsx(k,{}),e.jsx(W,{className:n("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(z,{})]})}));D.displayName=y.displayName;const le=d.forwardRef(({className:r,...s},a)=>e.jsx(w,{ref:a,className:n("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s}));le.displayName=w.displayName;const h=d.forwardRef(({className:r,children:s,...a},i)=>e.jsxs(g,{ref:i,className:n("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(A,{children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsx(U,{children:s})]}));h.displayName=g.displayName;const ne=d.forwardRef(({className:r,...s},a)=>e.jsx(S,{ref:a,className:n("-mx-1 my-1 h-px bg-muted",r),...s}));ne.displayName=S.displayName;function ve({hourlyForecast:r}){const{convertTemperature:s,convertWindSpeed:a}=G(),[i,c]=v("hourly-chart-dataType","temperature"),[f,R]=v("hourly-chart-period","24"),B=()=>{const t=parseInt(f);return r.slice(0,t)},H=t=>s(t,"F").value,I=t=>{if(!t)return 0;const l=t.match(/(\d+)/),o=l&&l[1]?parseInt(l[1],10):0;return a(o,"mph").value},u=B().map(l=>{const o=se(new Date(l.startTime),"ha");switch(i){case"temperature":return{time:o,value:H(l.temperature),label:"Temperature",unit:s(0,"F").unit==="F"?"°F":"°C"};case"precipitation":return{time:o,value:l.probabilityOfPrecipitation?.value||0,label:"Precipitation",unit:"%"};case"wind":return{time:o,value:I(l.windSpeed),label:"Wind Speed",unit:a(0,"mph").unit};case"humidity":return{time:o,value:l.relativeHumidity.value,label:"Humidity",unit:"%"};default:return{time:o,value:0,label:"",unit:""}}}),m=u[0]?.unit||"",L=()=>{switch(i){case"temperature":return"hsl(var(--chart-1))";case"precipitation":return"hsl(var(--chart-2))";case"wind":return"hsl(var(--chart-3))";case"humidity":return"hsl(var(--chart-4))";default:return"hsl(var(--chart-1))"}},x=t=>{switch(t){case"temperature":return"Temperature";case"precipitation":return"Precipitation";case"wind":return"Wind Speed";case"humidity":return"Humidity";default:return t}};return e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx($,{children:"Hourly Forecast"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(re,{value:f,onValueChange:t=>R(t),children:[e.jsx(T,{className:"w-[120px]","aria-label":"Time period selection",children:e.jsx(ie,{})}),e.jsxs(D,{children:[e.jsx(h,{value:"12",children:"12 Hours"}),e.jsx(h,{value:"24",children:"24 Hours"}),e.jsx(h,{value:"48",children:"48 Hours"})]})]}),e.jsxs("div",{className:"flex gap-2",role:"group","aria-label":"Data type selection",children:[e.jsx(p,{size:"sm",variant:i==="temperature"?"default":"outline",onClick:()=>c("temperature"),children:"Temp"}),e.jsx(p,{size:"sm",variant:i==="precipitation"?"default":"outline",onClick:()=>c("precipitation"),children:"Precip"}),e.jsx(p,{size:"sm",variant:i==="wind"?"default":"outline",onClick:()=>c("wind"),children:"Wind"}),e.jsx(p,{size:"sm",variant:i==="humidity"?"default":"outline",onClick:()=>c("humidity"),children:"Humidity"})]})]})]})}),e.jsxs(q,{children:[e.jsx("div",{className:"h-[300px] w-full",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(J,{data:u,children:[e.jsx(Q,{strokeDasharray:"3 3",className:"stroke-muted"}),e.jsx(Z,{dataKey:"time",tick:{fontSize:12},className:"text-muted-foreground"}),e.jsx(_,{tick:{fontSize:12},className:"text-muted-foreground",label:{value:m,angle:-90,position:"insideLeft",style:{fontSize:12}}}),e.jsx(ee,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},labelStyle:{color:"hsl(var(--popover-foreground))"},itemStyle:{color:"hsl(var(--popover-foreground))"},formatter:t=>[`${t}${m}`,x(i)]}),e.jsx(te,{wrapperStyle:{fontSize:12},formatter:()=>x(i)}),e.jsx(ae,{dataKey:"value",fill:L(),radius:[4,4,0,0],name:x(i)})]})})}),e.jsxs("div",{className:"mt-4 flex justify-around rounded-lg bg-muted p-3 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-muted-foreground",children:"Min"}),e.jsxs("div",{className:"font-semibold",children:[Math.min(...u.map(t=>t.value)),m]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-muted-foreground",children:"Max"}),e.jsxs("div",{className:"font-semibold",children:[Math.max(...u.map(t=>t.value)),m]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-muted-foreground",children:"Avg"}),e.jsxs("div",{className:"font-semibold",children:[Math.round(u.reduce((t,l)=>t+l.value,0)/u.length),m]})]})]})]})]})}export{ve as HourlyForecast};
