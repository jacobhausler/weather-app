import{p as P,V as F,j as e,q as j,r as M,s as V,t as g,u as W,v as y,w as A,x as U,y as b,z as w,A as N,B as S}from"./ui-BbEAuUw2.js";import{G}from"./glass-card-I8N4qm4k.js";import{b as n,f as C,n as E,e as K,C as X,g as Y,B as p,d as $}from"./index-SGL460h1.js";import{r as d}from"./vendor-CrRmGii_.js";import{u as q,a as v}from"./useUnitConversion-DpxUpf6s.js";import{R as O,B as J,C as Q,X as Z,Y as _,T as ee,L as te,a as ae}from"./charts-8ILbS6lk.js";import{f as re}from"./utils-DzfkJJIA.js";import"./zustand-D4WnGny0.js";const se=P,ie=F,T=d.forwardRef(({className:s,children:r,...a},i)=>e.jsxs(j,{ref:i,className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[r,e.jsx(M,{asChild:!0,children:e.jsx(C,{className:"h-4 w-4 opacity-50"})})]}));T.displayName=j.displayName;const k=d.forwardRef(({className:s,...r},a)=>e.jsx(b,{ref:a,className:n("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(K,{className:"h-4 w-4"})}));k.displayName=b.displayName;const z=d.forwardRef(({className:s,...r},a)=>e.jsx(w,{ref:a,className:n("flex cursor-default items-center justify-center py-1",s),...r,children:e.jsx(C,{className:"h-4 w-4"})}));z.displayName=w.displayName;const D=d.forwardRef(({className:s,children:r,position:a="popper",...i},c)=>e.jsx(V,{children:e.jsxs(g,{ref:c,className:n("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...i,children:[e.jsx(k,{}),e.jsx(W,{className:n("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(z,{})]})}));D.displayName=g.displayName;const le=d.forwardRef(({className:s,...r},a)=>e.jsx(N,{ref:a,className:n("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r}));le.displayName=N.displayName;const x=d.forwardRef(({className:s,children:r,...a},i)=>e.jsxs(y,{ref:i,className:n("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(A,{children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsx(U,{children:r})]}));x.displayName=y.displayName;const ne=d.forwardRef(({className:s,...r},a)=>e.jsx(S,{ref:a,className:n("-mx-1 my-1 h-px bg-muted",s),...r}));ne.displayName=S.displayName;function je({hourlyForecast:s}){const{convertTemperature:r,convertWindSpeed:a}=q(),[i,c]=v("hourly-chart-dataType","temperature"),[f,R]=v("hourly-chart-period","24"),B=()=>{const t=parseInt(f);return s.slice(0,t)},H=t=>r(t,"F").value,I=t=>{if(!t)return 0;const l=t.match(/(\d+)/),o=l&&l[1]?parseInt(l[1],10):0;return a(o,"mph").value},u=B().map(l=>{const o=re(new Date(l.startTime),"ha");switch(i){case"temperature":return{time:o,value:H(l.temperature),label:"Temperature",unit:r(0,"F").unit==="F"?"°F":"°C"};case"precipitation":return{time:o,value:l.probabilityOfPrecipitation?.value||0,label:"Precipitation",unit:"%"};case"wind":return{time:o,value:I(l.windSpeed),label:"Wind Speed",unit:a(0,"mph").unit};case"humidity":return{time:o,value:l.relativeHumidity.value,label:"Humidity",unit:"%"};default:return{time:o,value:0,label:"",unit:""}}}),m=u[0]?.unit||"",L=()=>{switch(i){case"temperature":return"hsl(var(--chart-1))";case"precipitation":return"hsl(var(--chart-2))";case"wind":return"hsl(var(--chart-3))";case"humidity":return"hsl(var(--chart-4))";default:return"hsl(var(--chart-1))"}},h=t=>{switch(t){case"temperature":return"Temperature";case"precipitation":return"Precipitation";case"wind":return"Wind Speed";case"humidity":return"Humidity";default:return t}};return e.jsxs(G,{blur:"lg",interactive:!0,className:"shadow-glass",children:[e.jsx(X,{children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(Y,{className:"text-white dark:text-gray-100",children:"Hourly Forecast"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(se,{value:f,onValueChange:t=>R(t),children:[e.jsx(T,{className:"w-[110px]","aria-label":"Time period selection",children:e.jsx(ie,{})}),e.jsxs(D,{children:[e.jsx(x,{value:"12",children:"12 Hours"}),e.jsx(x,{value:"24",children:"24 Hours"}),e.jsx(x,{value:"48",children:"48 Hours"})]})]}),e.jsxs("div",{className:"flex gap-1.5",role:"group","aria-label":"Data type selection",children:[e.jsx(p,{size:"sm",variant:i==="temperature"?"default":"outline",onClick:()=>c("temperature"),children:"Temp"}),e.jsx(p,{size:"sm",variant:i==="precipitation"?"default":"outline",onClick:()=>c("precipitation"),children:"Precip"}),e.jsx(p,{size:"sm",variant:i==="wind"?"default":"outline",onClick:()=>c("wind"),children:"Wind"}),e.jsx(p,{size:"sm",variant:i==="humidity"?"default":"outline",onClick:()=>c("humidity"),children:"Humidity"})]})]})]})}),e.jsxs($,{children:[e.jsx("div",{className:"h-[250px] w-full bg-transparent",children:e.jsx(O,{width:"100%",height:"100%",className:"bg-transparent",children:e.jsxs(J,{data:u,children:[e.jsx(Q,{strokeDasharray:"3 3",className:"stroke-muted"}),e.jsx(Z,{dataKey:"time",tick:{fontSize:12},className:"text-muted-foreground"}),e.jsx(_,{tick:{fontSize:12},className:"text-muted-foreground",label:{value:m,angle:-90,position:"insideLeft",style:{fontSize:12}}}),e.jsx(ee,{contentStyle:{backgroundColor:"hsl(var(--popover))",border:"1px solid hsl(var(--border))",borderRadius:"6px"},labelStyle:{color:"hsl(var(--popover-foreground))"},itemStyle:{color:"hsl(var(--popover-foreground))"},formatter:t=>[`${t}${m}`,h(i)]}),e.jsx(te,{wrapperStyle:{fontSize:12},formatter:()=>h(i)}),e.jsx(ae,{dataKey:"value",fill:L(),radius:[4,4,0,0],name:h(i)})]})})}),e.jsxs("div",{className:"mt-3 flex justify-around rounded-lg bg-white/10 dark:bg-black/20 backdrop-blur-md border border-white/20 p-2 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Min"}),e.jsxs("div",{className:"font-semibold",children:[Math.min(...u.map(t=>t.value)),m]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Max"}),e.jsxs("div",{className:"font-semibold",children:[Math.max(...u.map(t=>t.value)),m]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Avg"}),e.jsxs("div",{className:"font-semibold",children:[Math.round(u.reduce((t,l)=>t+l.value,0)/u.length),m]})]})]})]})]})}export{je as HourlyForecast};
