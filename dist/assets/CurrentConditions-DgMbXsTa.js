import{j as e}from"./ui-BbEAuUw2.js";import{G as W}from"./glass-card-C0_DRPhK.js";import{c as u,u as E,l as c,m as g,n as $,C as D,k as U,d as z,g as A,i as H,o as G}from"./index-B42Bsiy_.js";import{W as w,D as I,a as f,C as L}from"./WeatherIcon-OtcfR9EI.js";import"./vendor-CrRmGii_.js";import"./utils-DzfkJJIA.js";import"./zustand-D4WnGny0.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=u("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=u("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=u("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=u("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),Z=s=>{if(s===null)return"N/A";const t=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],l=Math.round(s/22.5)%16;return t[l]},B=(s,t,l)=>t!==null&&t>s?t:l!==null&&l<s?l:s;function F({observation:s,todayForecast:t,tonightForecast:l,sunTimes:m}){const{unitSystem:a}=E();if(!s&&!t)return null;const h=C=>new Date(C).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),d=s?.temperature.value?Math.round(c(s.temperature.value,a)):t?.temperature,o=s?.dewpoint.value?Math.round(c(s.dewpoint.value,a)):null,p=s?.relativeHumidity.value!==null&&s?.relativeHumidity.value!==void 0?Math.round(s.relativeHumidity.value):null,j=s?.windSpeed.value?Math.round(g(s.windSpeed.value,a)):null,x=s?.windGust.value?Math.round(g(s.windGust.value,a)):null,k=s?.windDirection.value?Z(s.windDirection.value):null,N=s?.visibility.value?$(s.visibility.value,a).toFixed(1):null,y=s?.heatIndex.value?Math.round(c(s.heatIndex.value,a)):null,S=s?.windChill.value?Math.round(c(s.windChill.value,a)):null,i=d?B(d,y,S):null,M=s?.cloudLayers?.[0]?.amount||"N/A",n=A(a),v=H(a),b=G(a);return e.jsxs(W,{blur:"lg",gradient:!0,interactive:!0,className:"shadow-glass border border-white/30 dark:border-white/15",children:[e.jsx(D,{children:e.jsx(U,{className:"text-white dark:text-gray-100",children:"Current Conditions"})}),e.jsxs(z,{children:[t?.detailedForecast&&e.jsxs("div",{className:"mb-4 rounded-lg bg-white/10 dark:bg-black/20 backdrop-blur-md border border-white/20 p-3",children:[e.jsx("h3",{className:"mb-1 text-sm font-semibold text-white dark:text-gray-100",children:"Forecast"}),e.jsx("p",{className:"text-xs leading-relaxed text-gray-100 dark:text-gray-200",children:t.detailedForecast})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t&&e.jsx(w,{nwsIconUrl:t.icon,shortForecast:t.shortForecast,size:"md",className:"h-16 w-16"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold",children:d!=null?`${d}${n}`:"N/A"}),i!=null&&i!==d&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Feels like ",i,n]})]})]}),t&&e.jsx("div",{className:"text-xs text-muted-foreground",children:t.shortForecast}),t&&l&&e.jsxs("div",{className:"flex gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"High: "}),e.jsxs("span",{className:"font-semibold",children:[t.temperature,n]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Low: "}),e.jsxs("span",{className:"font-semibold",children:[l.temperature,n]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(r,{icon:e.jsx(R,{className:"h-3 w-3"}),label:"Dewpoint",value:o!==null?`${o}${n}`:"N/A"}),e.jsx(r,{icon:e.jsx(I,{className:"h-3 w-3"}),label:"Humidity",value:p!==null?`${p}%`:"N/A"}),e.jsx(r,{icon:e.jsx(f,{className:"h-3 w-3"}),label:"Wind",value:j!==null?`${k||"N/A"} ${j} ${v}`:"N/A"}),x!==null&&x>0&&e.jsx(r,{icon:e.jsx(f,{className:"h-3 w-3"}),label:"Gusts",value:`${x} ${v}`}),e.jsx(r,{icon:e.jsx(T,{className:"h-3 w-3"}),label:"Visibility",value:N?`${N} ${b}`:"N/A"}),e.jsx(r,{icon:e.jsx(L,{className:"h-3 w-3"}),label:"Cloud Cover",value:M}),m&&e.jsx("div",{className:"flex items-center gap-1.5 rounded-lg border p-2",children:e.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Sunrise"}),e.jsx("div",{className:"ml-auto truncate text-xs font-medium",children:h(m.sunrise)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("div",{className:"text-[10px] text-muted-foreground",children:"Sunset"}),e.jsx("div",{className:"ml-auto truncate text-xs font-medium",children:h(m.sunset)})]})]})})]})]}),l&&e.jsx("div",{className:"mt-3 rounded-lg bg-white/10 dark:bg-black/20 backdrop-blur-md border border-white/20 p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{nwsIconUrl:l.icon,shortForecast:l.shortForecast,size:"sm",className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-white dark:text-gray-100",children:l.name}),e.jsxs("div",{className:"text-xs text-gray-100 dark:text-gray-200",children:[l.shortForecast," -"," ",l.temperature,n]})]})]})})]})]})}function r({icon:s,label:t,value:l}){return e.jsxs("div",{className:"flex items-center gap-1.5 rounded-lg border p-2",children:[e.jsx("div",{className:"text-muted-foreground",children:s}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"text-[10px] text-muted-foreground",children:t}),e.jsx("div",{className:"truncate text-xs font-medium",children:l})]})]})}export{F as CurrentConditions};
